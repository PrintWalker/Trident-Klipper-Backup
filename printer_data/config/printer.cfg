# This file contains common pin mappings for the BIGTREETECH Manta M8P V2.0
# To use this config, the firmware should be compiled for the
# STM32H723 with a "8KiB bootloader" and USB communication.

# This config is currently only correct for V2.0 boards
#
# See docs/Config_Reference.md for a description of parameters.

##	[X in MOTOR1] - B Motor
##	[Y in MOTOR2] - A Motor
##	[E in MOTOR8] - Extruder

##--------------------------------------------------------------------

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32h723xx_16003B000551323235363233-if00
restart_method: command

[mcu rpi]
serial: /tmp/klipper_host_mcu

[mcu EBB]
serial: /dev/serial/by-id/usb-Klipper_rp2040_504434031036AB1C-if00

[mcu scanner]
serial: /dev/serial/by-id/usb-Cartographer_614e_010026001743304B4E363120-if00

#####################################################################
# 	Includes
#####################################################################

[include mainsail.cfg]
[include ebb-sb2209-usb.cfg]
[include stealthburner_leds.cfg]
#[include neopixel_control.cfg]
#[include cartographer.cfg] moved here into printer.cfg

##--------------------------------------------------------------------

[exclude_object]

##  Fix Error From Using Temp Sensor Twice
[duplicate_pin_override]
pins:
    ADC_TEMPERATURE 

##--------------------------------------------------------------------

[printer]
kinematics: corexy
max_velocity: 300  
max_accel: 3000    			#Max 4000
max_z_velocity: 15 			#Max 15 for 12V TMC Drivers, can increase for 24V
max_z_accel: 350
square_corner_velocity: 5.0

[temperature_sensor MCU]
sensor_type: temperature_mcu

[temperature_sensor RPi]
sensor_type: temperature_host

#####################################################################
# 	X/Y Stepper Settings
#####################################################################

## X Stepper on Motor1(B Motor)
[stepper_x]
step_pin: PE6
dir_pin: PE5
enable_pin: !PC14
microsteps: 16
rotation_distance: 40
full_steps_per_rotation:200  #set to 400 for 0.9 degree stepper
endstop_pin: ^EBB:gpio13
position_min: 0
position_endstop: 350
position_max: 350
homing_speed: 25   #Max 100
homing_retract_dist: 5
homing_positive_dir: true

[tmc2209 stepper_x]
uart_pin: PC13
interpolate: True
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 0

## Y Stepper on Motor2 (A Motor)
[stepper_y]
step_pin: PE2
dir_pin: PE1
enable_pin: !PE4
microsteps: 16
rotation_distance: 40
full_steps_per_rotation:200  #set to 400 for 0.9 degree stepper
endstop_pin: ^PF3
position_min: 0
position_endstop: 350
position_max: 350
homing_speed: 25  #Max 100
homing_retract_dist: 5
homing_positive_dir: true

[tmc2209 stepper_y]
uart_pin: PE3
interpolate: True
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 0

#####################################################################
# 	Z Stepper Settings
#####################################################################

## Z0 Stepper - Front Left on MOTOR3_A
[stepper_z]
step_pin: PB8
dir_pin: PB7
enable_pin: !PE0
# Rotation Distance for TR8x8 = 8, TR8x4 = 4, TR8x2 = 2
rotation_distance: 4    
microsteps: 32
#endstop_pin: ^PF2
##  Z-position of nozzle (in mm) to z-endstop trigger point relative to print surface (Z0)
##  (+) value = endstop above Z0, (-) value = endstop below
##  Increasing position_endstop brings nozzle closer to the bed
##  After you run Z_ENDSTOP_CALIBRATE, position_endstop will be stored at the very end of your config
endstop_pin: probe:z_virtual_endstop # uses cartographer as virtual endstop
homing_retract_dist: 0 # cartographer needs this to be set to 0
#position_endstop: 5 # cartographer needs this to be commented out
#position_endstop: -0.5
## All builds use same Max Z
position_max: 250
position_min: -2.5
homing_speed: 8.0 # Leadscrews are slower than 2.4, 10 is a recommended max.
second_homing_speed: 3
homing_retract_dist: 3

##	Make sure to update below for your relevant driver (2208 or 2209)
[tmc2209 stepper_z]
uart_pin: PB9
interpolate: true
run_current: 0.6
sense_resistor: 0.110
stealthchop_threshold: 0

##	Z1 Stepper - Rear  on Motor4
[stepper_z1]
step_pin: PB4
dir_pin: PB3
enable_pin: !PB6
# Rotation Distance for TR8x8 = 8, TR8x4 = 4, TR8x2 = 2
rotation_distance: 4  
microsteps: 32

[tmc2209 stepper_z1]
uart_pin: PB5
interpolate: true
run_current: 0.6
sense_resistor: 0.110
stealthchop_threshold: 0

##	Z2 Stepper - Front Right on Motor5
[stepper_z2]
step_pin: PG13
dir_pin: PG12
enable_pin: !PG15
# Rotation Distance for TR8x8 = 8, TR8x4 = 4, TR8x2 = 2
rotation_distance: 4  
microsteps: 32

[tmc2209 stepper_z2]
uart_pin: PG14
interpolate: true
run_current: 0.6
sense_resistor: 0.110
stealthchop_threshold: 0

#####################################################################
# 	Bed Heater
#####################################################################

[heater_bed]
##  SSR - HE1
heater_pin: PA1
##  Check what thermistor type you have. See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types.
##  Use "Generic 3950" for Keenovo heaters
sensor_type: Generic 3950
sensor_pin: PB1
##  Adjust max_power so it doesn't exceed the SSR rating. The Omron G3NA-210B-DC5 SSR is rated at 4 amps without a heatsink.
##  The formula is "4 / (Wattage_of_bed_heater / Mains_voltage) = max_power"
##  If max_power is greater than 1.0, use 1.0
max_power: 0.6
min_temp: 0
max_temp: 120
#control: pid
#pid_kp: 58.437
#pid_ki: 2.347
#pid_kd: 363.769

#####################################################################
#   Cartographer Sensor
#####################################################################

[scanner]
mcu: scanner            
#   Offsets are measured from the centre of your coil, to the tip of your nozzle 
#   on a level axis. It is vital that this is accurate. 
x_offset: 0                          
#    adjust for your cartographers offset from nozzle to middle of coil
y_offset: 24.5                        
#    adjust for your cartographers offset from nozzle to middle of coil
backlash_comp: 1.99714
#   Backlash compensation distance for removing Z backlash before measuring
#   the sensor response.
sensor: cartographer
#    this must be set as cartographer unless using IDM etc.
sensor_alt: carto
#    alternate name to call commands. CARTO_TOUCH etc      
mesh_runs: 2
#    Number of passes to make during mesh scan.

[bed_mesh]
zero_reference_position: 175, 175    
#    set this to the middle of your bed
speed: 200 # default 200
#    movement speed of toolhead during bed mesh
horizontal_move_z: 5
#    height of scanner during bed mesh scan
mesh_min: 40, 40
#    start point of bed mesh [X, Y]
mesh_max: 310, 310
#    end point of bed mesh [X, Y]
probe_count: 30, 30
algorithm: bicubic

[temperature_sensor Cartographer_MCU]
sensor_type: temperature_mcu
sensor_mcu: scanner
min_temp: 0
max_temp: 105

[adxl345]
cs_pin: scanner:PA3
spi_bus: spi1

[resonance_tester]
accel_chip: adxl345
probe_points:
    175, 175, 20

#####################################################################
# 	Fan Control
#####################################################################

##  Rasberry Pi CM4 Heatsink Fan
# Pi-Fan
[temperature_fan rpi_fan]
pin: rpi:gpio26
max_power: 1.0
kick_start_time: 0.5
off_below: 0.10
sensor_type: temperature_host
control: pid
pid_kp: 1.0
pid_ki: 0.5
pid_kd: 2.0
min_temp: 20
max_temp: 100
target_temp: 38
min_speed: 0.2
max_speed: 0.8

#[fan_generic test_fan]
#pin: rpi:gpio26
#max_power: 1.0
#kick_start_time: 0.5
#off_below: 0.10

##	Electronics Skirt Fans

#  Combine Electronics Skirt Fan Pins
[multi_pin skirt_fans]
pins: PF9,PF7

[temperature_fan electronics_fan]
pin = multi_pin:skirt_fans
max_power: 1.0
kick_start_time: 0.5
off_below: 0.10
sensor_type: temperature_mcu
control: pid
pid_kp: 1.0
pid_ki: 0.5
pid_kd: 2.0
min_temp: 20
max_temp: 100
target_temp: 38
min_speed: 0.1
max_speed: 0.8

#[heater_fan hotend_fan]
##	Hotend Fan - CNC_FAN1
#pin: PF9
#max_power: 1.0
#kick_start_time: 0.5
#heater: extruder
#heater_temp: 50.0
##	If you are experiencing back flow, you can reduce fan_speed
#fan_speed: 1.0

#[heater_fan controller_fan]
##	Controller fan - CNC_FAN2
#pin: PF6
#kick_start_time: 0.5
#heater: heater_bed
#heater_temp: 45.0

#[heater_fan exhaust_fan]
##	Exhaust fan - CNC_FAN3
#pin: PF8
#max_power: 1.0
#shutdown_speed: 0.0
#kick_start_time: 5.0
#heater: heater_bed
#heater_temp: 60
#fan_speed: 1.0

#[heater_fan fan4]
#pin: PA4
#tachometer_pin: PC13

#[heater_fan fan5]
#pin: PA6
#tachometer_pin: PC14

#[heater_fan fan6]
#pin: PA2
#tachometer_pin: PC15

#####################################################################
# 	LED Control
#####################################################################

# Chamber Light
# Chamber Lighting - HE2 Connector
[output_pin caselight]
pin: PA3
pwm:true
shutdown_value: 0
value:1
cycle_time: 0.01

#####################################################################
#   Input Shaper
#####################################################################

[input_shaper]
shaper_freq_x: 53.4
shaper_type_x: mzv
shaper_freq_y: 34.8
shaper_type_y: mzv

#####################################################################
# 	Homing and Gantry Adjustment Routines
#####################################################################

[idle_timeout]
timeout: 1800

[safe_z_home]
home_xy_position: 175,175 
z_hop: 10

[z_tilt]
##  Use Z_TILT_ADJUST to level the bed .
##  z_positions: Location of toolhead
z_positions:
   -50, 18
   175, 398
   400, 18
points:
   30, 5
   175, 295
   320, 5
speed: 200
horizontal_move_z: 10
retries: 5
retry_tolerance: 0.0075

########################################
# EXP1 / EXP2 (display) pins
########################################

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PE7, EXP1_2=PG1,
    EXP1_3=PG0, EXP1_4=PF15,
    EXP1_5=PF14, EXP1_6=PF13,    # Slot in the socket on this side
    EXP1_7=PF12, EXP1_8=PF11,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PE13, EXP2_2=PE12,
    EXP2_3=PE15, EXP2_4=PE11,
    EXP2_5=PE10, EXP2_6=PE14,      # Slot in the socket on this side
    EXP2_7=PE8, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=<NC>

# See the sample-lcd.cfg file for definitions of common LCD displays.

#####################################################################
# 	Displays
#####################################################################

## 	Uncomment the display that you have
#--------------------------------------------------------------------

#[display]
##	RepRapDiscount 128x64 Full Graphic Smart Controller
#lcd_type: st7920
#cs_pin: EXP1_4
#sclk_pin: EXP1_5
#sid_pin: EXP1_3
#menu_timeout: 40
#encoder_pins: ^EXP2_5, ^EXP2_3
#click_pin: ^!EXP1_2

#[output_pin beeper]
#pin: EXP1_1

#--------------------------------------------------------------------

#[display]
#	mini12864 LCD Display
#lcd_type: uc1701
#cs_pin: EXP1_3
#a0_pin: EXP1_4
#rst_pin: EXP1_5
#encoder_pins: ^EXP2_5, ^EXP2_3
#click_pin: ^!EXP1_2
#contrast: 63
#spi_software_miso_pin: EXP2_1
#spi_software_mosi_pin: EXP2_6
#spi_software_sclk_pin: EXP2_2

#[neopixel btt_mini12864]
#	To control Neopixel RGB in mini12864 display
#pin: EXP1_6
#chain_count: 3
#initial_RED: 0.1
#initial_GREEN: 0.5
#initial_BLUE: 0.0
#color_order: RGB

##	Set RGB values on boot up for each Neopixel. 
##	Index 1 = display, Index 2 and 3 = Knob
#[delayed_gcode setdisplayneopixel]
#initial_duration: 1
#gcode:
#       SET_LED LED=btt_mini12864 RED=1 GREEN=1 BLUE=1 INDEX=1 TRANSMIT=0
#       SET_LED LED=btt_mini12864 RED=1 GREEN=0 BLUE=0 INDEX=2 TRANSMIT=0
#       SET_LED LED=btt_mini12864 RED=1 GREEN=0 BLUE=0 INDEX=3 

#--------------------------------------------------------------------


#####################################################################
# 	Macros
#####################################################################

#[gcode_macro G32]
#gcode:
#    BED_MESH_CLEAR
#    G28
#    Z_TILT_ADJUST
#    G28
 ##	Uncomment for 350mm build
#    G0 X175 Y175 Z30 F3600
    
#--------------------------------------------------------------------
   
#[gcode_macro PRINT_START]
#   Use PRINT_START for the slicer starting script - please customise for your slicer of choice
#gcode:
#    G32                            ; home all axes
#    G1 Z20 F3000                   ; move nozzle away from bed

#####################################################################
#   A better print_start macro for v2/trident
#####################################################################

## *** THINGS TO UNCOMMENT: ***
## Bed mesh (2 lines at 2 locations)
## Nevermore (if you have one)
## Z_TILT_ADJUST (For Trident only)

[gcode_macro PRINT_START]
gcode:
  # This part fetches data from your slicer. Such as bed, extruder, and chamber temps and size of your printer.
  {% set target_bed = params.BED|int %}
  {% set target_extruder = params.EXTRUDER|int %}
  {% set target_chamber = params.CHAMBER|default("45")|int %}
  {% set x_wait = printer.toolhead.axis_maximum.x|float / 2 %}
  {% set y_wait = printer.toolhead.axis_maximum.y|float / 2 %}

  SET_GCODE_OFFSET Z=0                                 # Set offset to 0

  # Home the printer, set absolute positioning and update the Stealthburner LEDs.
  STATUS_HOMING                                         # Set LEDs to homing-mode
  G28                                                   # Full home (XYZ)
  G90                                                   # Absolute position

  ##  Uncomment for bed mesh (1 of 2 for bed mesh)
  BED_MESH_CLEAR                                       # Clear old saved bed mesh (if any)

  # Check if the bed temp is higher than 90c - if so then trigger a heatsoak.
  {% if params.BED|int > 90 %}
    SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"           # Display info on display
    STATUS_HEATING                                      # Set LEDs to heating-mode
    M106 S255                                           # Turn on the PT-fan

    ##  Uncomment if you have a Nevermore.
    #SET_PIN PIN=nevermore VALUE=1                      # Turn on the nevermore

    G1 X{x_wait} Y{y_wait} Z15 F9000                    # Go to center of the bed
    M190 S{target_bed}                                  # Set the target temp for the bed
    SET_DISPLAY_TEXT MSG="Heatsoak: {target_chamber}c"  # Display info on display
    TEMPERATURE_WAIT SENSOR="temperature_sensor chamber" MINIMUM={target_chamber}   # Waits for chamber temp

  # If the bed temp is not over 90c, then skip the heatsoak and just heat up to set temp with a 5 min soak
  {% else %}
    SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"           # Display info on display
    STATUS_HEATING                                      # Set LEDs to heating-mode
    G1 X{x_wait} Y{y_wait} Z15 F9000                    # Go to center of the bed
    M190 S{target_bed}                                  # Set the target temp for the bed
    SET_DISPLAY_TEXT MSG="Soak for 5 min"               # Display info on display
    G4 P300000                                          # Wait 5 min for the bedtemp to stabilize
  {% endif %}

  # Heat hotend to 150c. This helps with getting a correct Z-home.
  SET_DISPLAY_TEXT MSG="Hotend: 150c"                   # Display info on display
  M109 S150                                             # Heat hotend to 150c

  ##  Uncomment for Trident (Z_TILT_ADJUST)
  SET_DISPLAY_TEXT MSG="Leveling"                      # Display info on display
  STATUS_LEVELING                                      # Set LEDs to leveling-mode
  Z_TILT_ADJUST                                        # Level the printer via Z_TILT_ADJUST
  G28 Z                                                # Home Z again after Z_TILT_ADJUST

  ##  Uncomment for bed mesh (2 of 2 for bed mesh)
  SET_DISPLAY_TEXT MSG="Bed mesh"                      # Display info on display
  STATUS_MESHING                                       # Set LEDs to bed mesh-mode
  BED_MESH_CALIBRATE ADAPTIVE=1                        # Start the bed mesh (add ADAPTIVE=1) for adaptive bed mesh

  CARTOGRAPHER_TOUCH                                    # Calibrate z offset only with hot nozzle

  # Heat up the hotend up to target via data from slicer
  SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"     # Display info on display
  STATUS_HEATING                                        # Set LEDs to heating-mode
  G1 X{x_wait} Y{y_wait} Z15 F9000                      # Go to center of the bed
  M107                                                  # Turn off partcooling fan
  M109 S{target_extruder}                               # Heat the hotend to set temp

  # Adjust Z for bed type
  {% if params.BED_TYPE == "Cool Plate" %}
    SET_GCODE_ADJUST Z_ADJUST=0.00
  {% endif %}
  {% if params.BED_TYPE == "Engineering Plate" %}
    SET_GCODE_ADJUST Z_ADJUST=0.00
  {% endif %}
  {% if params.BED_TYPE == "High Temp Plate" %}
    SET_GCODE_ADJUST Z_ADJUST=0.00
  {% endif %}
  {% if params.BED_TYPE == "Textured PEI Plate" %}
    SET_GCODE_ADJUST Z_ADJUST=-0.04
  {% endif %}

  # Get ready to print by doing a primeline and updating the LEDs
  SET_DISPLAY_TEXT MSG="Printer goes brr"               # Display info on display
  STATUS_PRINTING                                       # Set LEDs to printing-mode
  G0 X{x_wait - 50} Y4 F10000                           # Go to starting point
  G0 Z0.4                                               # Raise Z to 0.4
  G91                                                   # Incremental positioning 
  G1 X100 E20 F1000                                     # Primeline
  G90                                                   # Absolute position

#--------------------------------------------------------------------
    
[gcode_macro PRINT_END]
#   Use PRINT_END for the slicer ending script - please customise for your slicer of choice
gcode:
    SAVE_GCODE_STATE NAME=STATE_PRINT_END

    M400                           ; wait for buffer to clear
    G92 E0                         ; zero the extruder
    G1 E-10.0 F3600                ; retract filament
    G91                            ; relative positioning
    G0 Z1.00 X20.0 Y20.0 F20000    ; move nozzle to remove stringing
    TURN_OFF_HEATERS
    M107                           ; turn off fan
    G1 Z2 F3000                    ; move nozzle up 2mm
    G90                            ; absolute positioning
    G0  X125 Y250 F3600            ; park nozzle at rear
    BED_MESH_CLEAR
    
    # The purpose of the SAVE_GCODE_STATE/RESTORE_GCODE_STATE
    # command pair is to restore the printer's coordinate system
    # and speed settings since the commands above change them.
    # However, to prevent any accidental, unintentional toolhead
    # moves when restoring the state, explicitly set MOVE=0.
    RESTORE_GCODE_STATE NAME=STATE_PRINT_END MOVE=0

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [scanner]
#*# mode = touch
#*# scanner_touch_threshold = 1500
#*# scanner_touch_speed = 3
#*#
#*# [scanner model default]
#*# model_coef = 1.4373077034493165,
#*# 	1.8911231059320825,
#*# 	0.813182290362468,
#*# 	0.3901690219771703,
#*# 	0.24788534293184544,
#*# 	0.13944311760139302,
#*# 	-0.12016902507647742,
#*# 	-0.06985657889309099,
#*# 	0.17253380990287673,
#*# 	0.1024362184897235
#*# model_domain = 3.1865283110491356e-07,3.3121193794790107e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 25.400305
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.0.0
#*#
#*# [bed_mesh First Mesh]
#*# version = 1
#*# points =
#*# 	-0.032131, -0.015800, 0.012549, 0.032448, 0.047258, 0.069036, 0.087920, 0.104277, 0.115795, 0.115147, 0.101145, 0.092011, 0.084388, 0.084844, 0.094685, 0.099622, 0.096439, 0.087959, 0.079482, 0.073711, 0.078018, 0.087878, 0.081533, 0.064159, 0.045815, 0.027128, 0.009129, -0.001856, -0.010093, -0.022317
#*# 	-0.047888, -0.031466, -0.002890, 0.017806, 0.033504, 0.055584, 0.074217, 0.090886, 0.104492, 0.105453, 0.090526, 0.079235, 0.071543, 0.071099, 0.081131, 0.084656, 0.082906, 0.075266, 0.067684, 0.061170, 0.065521, 0.074672, 0.069484, 0.052200, 0.032113, 0.013321, -0.002783, -0.011453, -0.018537, -0.032945
#*# 	-0.056548, -0.038885, -0.010067, 0.011457, 0.028481, 0.048861, 0.067035, 0.084822, 0.099080, 0.100119, 0.083863, 0.073032, 0.066079, 0.065813, 0.074374, 0.079026, 0.076331, 0.069187, 0.060796, 0.053900, 0.059084, 0.069348, 0.063615, 0.046223, 0.025589, 0.007612, -0.008517, -0.015364, -0.022878, -0.038516
#*# 	-0.066254, -0.049376, -0.018804, 0.005617, 0.024758, 0.042416, 0.060584, 0.079521, 0.093815, 0.092579, 0.076162, 0.065085, 0.059212, 0.057535, 0.067597, 0.071168, 0.068700, 0.061133, 0.052837, 0.046524, 0.050692, 0.061872, 0.055858, 0.038749, 0.017238, -0.001368, -0.015646, -0.024412, -0.029594, -0.045699
#*# 	-0.077954, -0.060763, -0.030372, -0.005221, 0.016546, 0.034686, 0.054108, 0.072836, 0.085719, 0.082661, 0.066842, 0.055789, 0.049878, 0.049301, 0.059190, 0.062502, 0.060163, 0.052184, 0.043561, 0.036929, 0.042142, 0.052956, 0.045863, 0.028185, 0.007481, -0.010511, -0.024829, -0.033157, -0.041066, -0.054672
#*# 	-0.090948, -0.074772, -0.047456, -0.020394, 0.002246, 0.023026, 0.042362, 0.059411, 0.071584, 0.069328, 0.052786, 0.042147, 0.036605, 0.037472, 0.047668, 0.048915, 0.045500, 0.038294, 0.029962, 0.024393, 0.030157, 0.040322, 0.033561, 0.014702, -0.004331, -0.021619, -0.035882, -0.045758, -0.052710, -0.068073
#*# 	-0.101707, -0.084823, -0.059996, -0.032908, -0.009880, 0.011741, 0.031238, 0.048579, 0.060903, 0.057599, 0.041655, 0.031254, 0.027299, 0.029894, 0.039665, 0.040018, 0.036540, 0.029761, 0.021456, 0.015258, 0.020904, 0.031728, 0.025560, 0.005742, -0.011478, -0.029608, -0.045649, -0.052754, -0.060370, -0.074539
#*# 	-0.108649, -0.092358, -0.065706, -0.040571, -0.019097, 0.003799, 0.024477, 0.042510, 0.055321, 0.051334, 0.035129, 0.024753, 0.021400, 0.024238, 0.032596, 0.034126, 0.031321, 0.022939, 0.014303, 0.008957, 0.014450, 0.027151, 0.023042, 0.002159, -0.016270, -0.033360, -0.049079, -0.058004, -0.064198, -0.078933
#*# 	-0.118344, -0.101659, -0.074438, -0.048810, -0.027028, -0.004629, 0.017580, 0.036747, 0.049889, 0.046694, 0.028871, 0.017997, 0.014111, 0.016828, 0.026533, 0.027507, 0.025554, 0.016176, 0.006951, 0.002186, 0.008290, 0.020480, 0.017317, -0.003122, -0.020170, -0.035013, -0.051143, -0.060111, -0.067176, -0.083365
#*# 	-0.129837, -0.111774, -0.084300, -0.058213, -0.036625, -0.013453, 0.008624, 0.028125, 0.039420, 0.036630, 0.021222, 0.009679, 0.006183, 0.009231, 0.018593, 0.021003, 0.018000, 0.009360, -0.000086, -0.005829, -0.001412, 0.011506, 0.009756, -0.008581, -0.025750, -0.041155, -0.056265, -0.065798, -0.074080, -0.090829
#*# 	-0.142868, -0.123839, -0.094469, -0.069095, -0.045284, -0.022645, -0.000367, 0.019588, 0.029982, 0.027695, 0.012632, 0.002338, 0.000375, 0.000341, 0.011142, 0.014195, 0.012406, 0.003842, -0.006499, -0.012678, -0.008095, 0.005090, 0.004643, -0.013160, -0.029728, -0.046492, -0.061870, -0.069684, -0.078403, -0.096162
#*# 	-0.153340, -0.134014, -0.103738, -0.077258, -0.052161, -0.029446, -0.006858, 0.013499, 0.024760, 0.022346, 0.007838, -0.001068, -0.004707, -0.004186, 0.005699, 0.010912, 0.008597, -0.000511, -0.011494, -0.019091, -0.011991, 0.001181, 0.000413, -0.015527, -0.031822, -0.049432, -0.066252, -0.073946, -0.081394, -0.097459
#*# 	-0.162417, -0.144111, -0.113432, -0.085075, -0.057093, -0.032774, -0.012238, 0.007245, 0.020704, 0.019670, 0.004357, -0.003994, -0.006652, -0.006544, 0.004941, 0.010016, 0.005372, -0.003265, -0.013932, -0.020441, -0.014243, -0.002850, -0.005155, -0.020349, -0.036192, -0.054865, -0.070666, -0.078726, -0.082805, -0.096389
#*# 	-0.171444, -0.152657, -0.123398, -0.094769, -0.065256, -0.040298, -0.018795, -0.000203, 0.013996, 0.012466, -0.001795, -0.011113, -0.012791, -0.009432, 0.003513, 0.008821, 0.004290, -0.006465, -0.017796, -0.024451, -0.018174, -0.008063, -0.011459, -0.027326, -0.043015, -0.061378, -0.077527, -0.083732, -0.088523, -0.100842
#*# 	-0.181833, -0.161186, -0.133307, -0.105471, -0.076441, -0.050100, -0.029549, -0.010674, 0.002544, 0.001684, -0.014015, -0.023414, -0.022425, -0.014584, -0.001043, 0.003684, 0.000337, -0.011638, -0.026470, -0.033918, -0.026084, -0.015441, -0.020176, -0.036623, -0.052038, -0.070763, -0.085151, -0.092698, -0.096154, -0.109498
#*# 	-0.187646, -0.167767, -0.139060, -0.111120, -0.084724, -0.060649, -0.040131, -0.020595, -0.006541, -0.008561, -0.024185, -0.033206, -0.029698, -0.020735, -0.006855, -0.002824, -0.004732, -0.018857, -0.036415, -0.043083, -0.036186, -0.022076, -0.026618, -0.043639, -0.059092, -0.075451, -0.091117, -0.098268, -0.103371, -0.115775
#*# 	-0.191469, -0.173249, -0.144062, -0.114594, -0.089865, -0.066986, -0.045755, -0.025878, -0.012109, -0.013912, -0.029169, -0.038025, -0.036900, -0.028730, -0.013772, -0.008906, -0.013662, -0.024064, -0.041054, -0.050689, -0.041409, -0.025227, -0.027618, -0.046433, -0.062347, -0.076397, -0.091397, -0.100738, -0.103791, -0.116516
#*# 	-0.193344, -0.174395, -0.145027, -0.116467, -0.093026, -0.069188, -0.049024, -0.030984, -0.018476, -0.020672, -0.034617, -0.043440, -0.045504, -0.038479, -0.022487, -0.016010, -0.022007, -0.032063, -0.043530, -0.051489, -0.043665, -0.027338, -0.029906, -0.046624, -0.061697, -0.075898, -0.091465, -0.100281, -0.105813, -0.116854
#*# 	-0.197137, -0.177739, -0.147476, -0.119610, -0.096284, -0.072271, -0.053080, -0.035767, -0.022611, -0.024478, -0.040255, -0.049219, -0.052687, -0.046160, -0.032405, -0.026509, -0.032099, -0.040246, -0.049173, -0.054653, -0.046823, -0.032933, -0.036618, -0.049884, -0.062852, -0.078314, -0.093874, -0.103063, -0.109001, -0.118247
#*# 	-0.200501, -0.180606, -0.149743, -0.121959, -0.096695, -0.073802, -0.056386, -0.037621, -0.026046, -0.027868, -0.045172, -0.053282, -0.055332, -0.051732, -0.038512, -0.033429, -0.036635, -0.043114, -0.052765, -0.056917, -0.049957, -0.036171, -0.037916, -0.052059, -0.064928, -0.079649, -0.094696, -0.102268, -0.108281, -0.118497
#*# 	-0.206738, -0.185596, -0.154282, -0.126455, -0.101249, -0.077723, -0.059192, -0.040015, -0.027686, -0.031524, -0.048630, -0.056491, -0.059454, -0.054764, -0.043452, -0.039081, -0.040244, -0.045651, -0.056360, -0.061885, -0.055221, -0.040096, -0.043936, -0.056711, -0.068696, -0.082477, -0.098994, -0.108205, -0.113207, -0.123504
#*# 	-0.210220, -0.188503, -0.157496, -0.129231, -0.104201, -0.081137, -0.061577, -0.042575, -0.029568, -0.032555, -0.050309, -0.059489, -0.061468, -0.056365, -0.044067, -0.040140, -0.040339, -0.046210, -0.057550, -0.065094, -0.058496, -0.044232, -0.047545, -0.061043, -0.073850, -0.087613, -0.102208, -0.111288, -0.116535, -0.127183
#*# 	-0.210592, -0.189632, -0.158636, -0.131220, -0.107256, -0.084436, -0.063950, -0.044207, -0.031321, -0.032989, -0.050408, -0.059420, -0.061854, -0.056444, -0.042716, -0.037122, -0.039841, -0.045808, -0.055531, -0.063909, -0.058398, -0.045325, -0.048887, -0.061955, -0.075880, -0.089039, -0.102545, -0.111015, -0.116766, -0.125152
#*# 	-0.210591, -0.189431, -0.159614, -0.133028, -0.109691, -0.086978, -0.065079, -0.045600, -0.033484, -0.034829, -0.050295, -0.060054, -0.062717, -0.057366, -0.043510, -0.036759, -0.038389, -0.044952, -0.054384, -0.061789, -0.056053, -0.044400, -0.048700, -0.060216, -0.074098, -0.087124, -0.101509, -0.108973, -0.112534, -0.121185
#*# 	-0.214640, -0.194384, -0.164816, -0.138280, -0.114559, -0.090672, -0.068901, -0.048956, -0.035668, -0.038365, -0.052915, -0.061557, -0.064847, -0.060592, -0.047230, -0.039939, -0.040121, -0.046392, -0.055929, -0.062009, -0.056302, -0.046171, -0.049391, -0.062512, -0.075167, -0.088652, -0.101867, -0.109414, -0.111730, -0.119503
#*# 	-0.219210, -0.198598, -0.169964, -0.142394, -0.118486, -0.095057, -0.072651, -0.051248, -0.038686, -0.041212, -0.056300, -0.065374, -0.068202, -0.064150, -0.051366, -0.042106, -0.042740, -0.048895, -0.057526, -0.063833, -0.056445, -0.043894, -0.047506, -0.061597, -0.075002, -0.088296, -0.100361, -0.107050, -0.109787, -0.118147
#*# 	-0.217391, -0.198122, -0.169897, -0.144136, -0.121200, -0.096303, -0.073154, -0.051884, -0.038436, -0.039967, -0.054736, -0.065267, -0.067185, -0.063432, -0.049403, -0.040501, -0.040317, -0.047523, -0.055869, -0.061904, -0.053306, -0.039989, -0.042136, -0.056643, -0.070785, -0.083829, -0.096877, -0.101437, -0.104553, -0.114540
#*# 	-0.215036, -0.195255, -0.169124, -0.143757, -0.120249, -0.096314, -0.072715, -0.052448, -0.039297, -0.039244, -0.054601, -0.065066, -0.067922, -0.063221, -0.047400, -0.037680, -0.039153, -0.045523, -0.053241, -0.058197, -0.050802, -0.036172, -0.037270, -0.050954, -0.063934, -0.077791, -0.091842, -0.097571, -0.098783, -0.109127
#*# 	-0.214537, -0.196897, -0.170560, -0.145002, -0.122028, -0.098089, -0.075292, -0.054219, -0.040117, -0.040513, -0.057204, -0.067269, -0.068632, -0.063758, -0.046999, -0.037264, -0.037089, -0.044566, -0.051861, -0.056915, -0.050055, -0.034980, -0.036731, -0.050527, -0.061435, -0.074548, -0.090398, -0.096710, -0.098063, -0.107349
#*# 	-0.212241, -0.194250, -0.169097, -0.143721, -0.120089, -0.097964, -0.074709, -0.053414, -0.040425, -0.041489, -0.055639, -0.064746, -0.065516, -0.058758, -0.043707, -0.034858, -0.036556, -0.043278, -0.050066, -0.055276, -0.049132, -0.033273, -0.034982, -0.049350, -0.060310, -0.072682, -0.086913, -0.093150, -0.096257, -0.105298
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 40.0
#*# max_x = 310.0
#*# min_y = 40.0
#*# max_y = 310.0
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 36.887
#*# pid_ki = 1.098
#*# pid_kd = 309.851
#*#
#*# [bed_mesh Hot Mesh]
#*# version = 1
#*# points =
#*# 	  -0.046488, -0.028507, 0.000848, 0.023530, 0.041920, 0.065114, 0.085553, 0.106439, 0.116388, 0.120793, 0.098287, 0.091792, 0.083211, 0.082359, 0.093288, 0.093019, 0.096775, 0.080888, 0.076639, 0.063912, 0.071952, 0.082399, 0.075482, 0.058497, 0.033585, 0.018771, -0.007284, -0.014665, -0.024688, -0.036076
#*# 	  -0.062194, -0.042648, -0.011008, 0.010112, 0.029641, 0.052125, 0.075204, 0.093324, 0.105390, 0.107715, 0.091588, 0.081844, 0.070072, 0.072137, 0.079999, 0.081920, 0.082979, 0.072144, 0.064815, 0.053041, 0.063158, 0.069826, 0.063072, 0.044658, 0.023142, 0.003642, -0.014737, -0.024717, -0.032198, -0.046712
#*# 	  -0.070067, -0.051287, -0.020553, 0.004951, 0.025173, 0.046567, 0.067185, 0.087080, 0.098812, 0.104324, 0.083898, 0.077123, 0.065166, 0.064572, 0.072592, 0.076050, 0.078734, 0.062997, 0.059939, 0.048757, 0.053972, 0.064831, 0.055282, 0.040259, 0.016955, -0.003511, -0.020246, -0.028225, -0.034654, -0.054414
#*# 	  -0.081155, -0.062080, -0.030350, -0.002774, 0.017796, 0.042143, 0.058185, 0.080644, 0.095776, 0.092817, 0.075968, 0.063066, 0.058504, 0.054692, 0.068344, 0.071636, 0.065258, 0.058127, 0.046458, 0.041058, 0.045411, 0.057736, 0.049440, 0.029906, 0.007410, -0.012468, -0.029723, -0.038803, -0.044405, -0.061368
#*# 	  -0.097007, -0.075810, -0.043737, -0.015526, 0.008900, 0.030431, 0.050776, 0.070202, 0.089021, 0.078984, 0.067081, 0.051147, 0.050003, 0.044596, 0.057153, 0.063962, 0.054196, 0.050435, 0.034290, 0.033348, 0.035209, 0.049802, 0.037215, 0.021294, 0.000520, -0.024545, -0.035196, -0.049698, -0.053033, -0.072777
#*# 	  -0.110767, -0.093040, -0.062959, -0.032242, -0.007767, 0.019005, 0.038178, 0.057687, 0.072928, 0.068552, 0.051731, 0.038874, 0.034709, 0.034445, 0.045572, 0.047115, 0.041969, 0.035971, 0.024125, 0.018288, 0.025025, 0.034146, 0.029582, 0.007498, -0.014087, -0.033807, -0.049715, -0.060068, -0.066961, -0.084266
#*# 	  -0.120118, -0.101949, -0.073213, -0.043368, -0.017519, 0.007909, 0.028245, 0.049306, 0.061631, 0.057864, 0.042971, 0.027076, 0.027932, 0.025695, 0.039410, 0.039277, 0.033126, 0.029824, 0.013048, 0.012452, 0.015673, 0.029915, 0.017844, -0.000496, -0.018528, -0.042805, -0.056331, -0.069503, -0.070944, -0.092524
#*# 	  -0.124338, -0.106501, -0.077917, -0.051267, -0.023798, -0.002398, 0.023711, 0.041088, 0.058765, 0.050882, 0.033476, 0.022797, 0.017268, 0.024077, 0.030103, 0.035626, 0.028300, 0.021086, 0.009459, 0.004107, 0.010779, 0.020229, 0.018059, -0.004831, -0.026110, -0.044544, -0.061826, -0.073105, -0.078011, -0.094030
#*# 	  -0.136369, -0.116063, -0.087992, -0.058852, -0.034510, -0.009581, 0.013633, 0.034612, 0.048624, 0.048320, 0.027665, 0.015366, 0.010984, 0.013243, 0.023876, 0.026457, 0.020146, 0.016969, 0.001609, -0.004530, 0.002671, 0.015552, 0.011975, -0.011199, -0.029889, -0.048572, -0.066187, -0.075995, -0.082439, -0.097968
#*# 	  -0.150908, -0.130773, -0.100124, -0.071485, -0.046102, -0.020686, 0.002913, 0.025449, 0.037530, 0.033836, 0.016947, 0.005489, 0.000208, 0.004125, 0.016022, 0.016054, 0.015437, 0.005122, -0.006777, -0.012751, -0.007386, 0.007419, 0.003047, -0.016849, -0.036686, -0.053574, -0.070769, -0.081438, -0.089381, -0.106541
#*# 	  -0.165123, -0.144518, -0.112424, -0.083303, -0.056572, -0.031389, -0.006058, 0.015741, 0.028036, 0.024700, 0.008107, -0.003560, -0.007201, -0.006281, 0.005941, 0.010226, 0.004651, 0.000145, -0.013838, -0.021711, -0.015169, -0.003325, -0.001067, -0.022411, -0.039589, -0.060246, -0.076675, -0.087023, -0.094647, -0.113468
#*# 	  -0.171252, -0.154060, -0.121765, -0.090889, -0.064258, -0.037797, -0.013134, 0.009632, 0.023078, 0.018691, 0.003351, -0.005772, -0.011272, -0.009928, 0.002079, 0.007118, 0.004527, -0.005959, -0.019609, -0.027192, -0.019619, -0.006965, -0.007281, -0.025110, -0.043832, -0.063752, -0.083315, -0.092321, -0.099723, -0.115941
#*# 	  -0.182361, -0.160790, -0.129692, -0.098464, -0.068528, -0.041167, -0.019585, 0.003137, 0.017692, 0.015000, -0.001535, -0.010525, -0.012259, -0.012427, 0.002192, 0.008815, 0.002669, -0.008547, -0.022797, -0.030693, -0.023926, -0.009986, -0.014902, -0.028653, -0.048396, -0.069758, -0.086080, -0.096658, -0.099680, -0.117937
#*# 	  -0.191701, -0.172761, -0.141253, -0.110200, -0.077478, -0.050803, -0.026526, -0.006321, 0.009865, 0.007719, -0.008147, -0.018203, -0.018946, -0.013512, 0.003491, 0.009293, 0.002941, -0.012205, -0.026719, -0.035315, -0.027889, -0.016850, -0.019609, -0.036868, -0.055685, -0.075221, -0.095118, -0.101889, -0.106571, -0.119682
#*# 	  -0.203297, -0.182871, -0.152087, -0.119815, -0.090076, -0.061211, -0.038235, -0.018086, -0.003167, -0.005632, -0.021981, -0.031196, -0.028987, -0.018785, -0.000411, 0.006673, -0.001227, -0.016338, -0.036923, -0.044540, -0.038249, -0.026110, -0.029766, -0.047742, -0.065983, -0.085399, -0.104017, -0.110875, -0.115803, -0.130390
#*# 	  -0.209401, -0.189135, -0.157398, -0.127172, -0.097624, -0.071875, -0.048330, -0.026979, -0.012414, -0.015788, -0.032056, -0.041161, -0.035890, -0.024514, -0.005904, -0.001072, -0.005829, -0.024685, -0.045900, -0.055659, -0.047682, -0.032636, -0.037017, -0.055829, -0.072650, -0.091826, -0.109913, -0.118439, -0.122661, -0.136390
#*# 	  -0.213083, -0.192997, -0.160783, -0.128779, -0.102473, -0.077118, -0.054669, -0.032781, -0.018091, -0.022255, -0.037096, -0.047189, -0.044900, -0.033024, -0.015675, -0.007879, -0.018125, -0.029698, -0.051117, -0.064235, -0.055182, -0.035206, -0.039713, -0.060533, -0.076674, -0.091933, -0.110158, -0.121444, -0.125013, -0.137376
#*# 	  -0.213983, -0.194974, -0.163259, -0.131450, -0.106505, -0.080891, -0.059013, -0.038656, -0.025056, -0.028192, -0.044618, -0.053136, -0.054371, -0.045934, -0.027590, -0.020582, -0.028230, -0.041990, -0.055555, -0.065104, -0.056192, -0.039096, -0.042045, -0.060385, -0.076608, -0.093346, -0.111708, -0.121464, -0.126823, -0.138159
#*# 	  -0.220009, -0.198268, -0.166245, -0.136540, -0.111225, -0.084900, -0.063736, -0.043822, -0.030256, -0.033684, -0.049928, -0.060453, -0.063112, -0.057625, -0.041807, -0.035783, -0.041635, -0.051875, -0.061921, -0.068265, -0.058876, -0.044924, -0.047602, -0.065876, -0.078424, -0.094789, -0.113804, -0.123848, -0.128971, -0.139971
#*# 	  -0.223643, -0.202768, -0.168447, -0.137625, -0.111527, -0.086042, -0.066465, -0.046412, -0.033391, -0.036488, -0.055667, -0.063761, -0.067058, -0.063052, -0.049887, -0.044703, -0.047533, -0.056662, -0.066315, -0.071045, -0.063339, -0.048823, -0.052084, -0.067217, -0.081008, -0.097694, -0.116571, -0.125274, -0.129995, -0.141608
#*# 	  -0.231921, -0.209022, -0.175023, -0.144613, -0.116919, -0.092404, -0.071652, -0.050573, -0.037152, -0.043493, -0.061187, -0.069726, -0.070699, -0.068599, -0.056364, -0.053497, -0.051082, -0.058031, -0.071235, -0.076934, -0.069932, -0.054325, -0.058387, -0.070630, -0.087110, -0.102396, -0.120535, -0.130196, -0.135360, -0.144649
#*# 	  -0.235369, -0.212603, -0.179586, -0.148969, -0.121643, -0.096863, -0.075744, -0.054722, -0.039588, -0.041860, -0.060464, -0.072450, -0.074555, -0.070641, -0.057486, -0.052925, -0.054709, -0.058248, -0.072394, -0.080572, -0.074027, -0.058168, -0.061633, -0.076311, -0.091270, -0.107164, -0.123405, -0.133484, -0.138275, -0.149667
#*# 	  -0.236041, -0.214232, -0.180636, -0.151617, -0.125473, -0.100985, -0.078558, -0.057192, -0.042209, -0.042396, -0.061525, -0.072908, -0.076596, -0.071079, -0.056634, -0.050234, -0.052825, -0.059990, -0.070398, -0.081435, -0.073764, -0.059108, -0.064422, -0.078625, -0.093841, -0.109309, -0.124496, -0.133920, -0.139309, -0.148613
#*# 	  -0.237090, -0.214796, -0.184161, -0.153738, -0.128024, -0.103616, -0.080236, -0.057472, -0.045982, -0.047446, -0.065566, -0.074405, -0.076547, -0.072592, -0.057158, -0.049606, -0.052130, -0.060228, -0.071546, -0.079309, -0.072164, -0.059275, -0.065382, -0.077849, -0.093820, -0.108288, -0.125524, -0.131905, -0.137386, -0.145148
#*# 	  -0.244394, -0.223373, -0.192355, -0.162652, -0.136220, -0.110768, -0.087218, -0.064003, -0.049649, -0.053083, -0.069130, -0.078894, -0.081821, -0.078125, -0.063871, -0.054303, -0.056498, -0.063661, -0.074354, -0.081119, -0.073530, -0.062860, -0.066554, -0.080951, -0.095850, -0.110616, -0.125728, -0.134334, -0.136709, -0.145368
#*# 	  -0.248232, -0.227187, -0.196221, -0.166842, -0.140376, -0.114574, -0.091589, -0.067618, -0.053824, -0.054670, -0.072919, -0.081564, -0.086201, -0.081492, -0.068933, -0.058267, -0.058969, -0.067460, -0.075741, -0.083509, -0.074288, -0.061592, -0.065761, -0.079633, -0.095458, -0.109634, -0.124003, -0.131787, -0.134550, -0.142916
#*# 	  -0.245692, -0.225640, -0.195847, -0.167466, -0.143514, -0.116809, -0.091888, -0.069178, -0.054319, -0.055928, -0.074750, -0.083931, -0.086012, -0.083082, -0.067267, -0.058594, -0.059116, -0.066701, -0.075237, -0.082330, -0.071914, -0.056286, -0.059803, -0.076254, -0.090678, -0.106604, -0.120198, -0.126695, -0.130635, -0.140448
#*# 	  -0.243901, -0.222463, -0.194862, -0.166706, -0.141877, -0.117217, -0.093080, -0.070213, -0.055138, -0.054997, -0.071326, -0.083719, -0.085996, -0.084113, -0.067797, -0.055742, -0.056208, -0.065892, -0.072390, -0.078391, -0.070503, -0.053784, -0.057035, -0.069780, -0.087021, -0.100683, -0.117821, -0.123039, -0.124128, -0.135348
#*# 	  -0.243853, -0.225183, -0.197764, -0.169809, -0.144080, -0.118323, -0.094749, -0.070997, -0.054809, -0.056649, -0.075833, -0.086477, -0.088525, -0.084218, -0.067303, -0.056458, -0.055185, -0.063841, -0.071049, -0.076971, -0.069285, -0.054067, -0.056667, -0.070105, -0.082181, -0.096868, -0.114932, -0.121923, -0.122806, -0.133002
#*# 	  -0.241384, -0.222860, -0.194070, -0.166787, -0.141673, -0.117279, -0.092247, -0.068334, -0.053932, -0.056132, -0.072124, -0.083110, -0.083772, -0.077659, -0.062451, -0.052226, -0.053981, -0.060357, -0.068514, -0.074803, -0.067778, -0.049942, -0.052171, -0.066977, -0.080290, -0.094366, -0.108710, -0.116599, -0.119452, -0.130574
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 40.0
#*# max_x = 310.0
#*# min_y = 40.0
#*# max_y = 310.0
